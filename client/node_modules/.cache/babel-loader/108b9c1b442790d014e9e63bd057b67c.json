{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sahithi\\\\TASKS-GUVI\\\\NOTES-APP\\\\client\\\\src\\\\components\\\\notes\\\\Home.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { format } from 'timeago.js';\nimport axios from 'axios';\nexport default function Home() {\n  const [notes, setNotes] = useState([]);\n  const [token, setToken] = useState('');\n\n  const getNotes = async token => {\n    const res = await axios.get('api/notes', {\n      headers: {\n        Authorization: token\n      }\n    });\n    setNotes(res.data);\n  };\n\n  useEffect(() => {\n    const token = localStorage.getItem('tokenStore');\n    setToken(token);\n\n    if (token) {\n      getNotes(token);\n    }\n  }, []);\n\n  const deleteNote = async id => {\n    try {\n      if (token) {\n        await axios.delete(`api/notes/${id}`, {\n          headers: {\n            Authorization: token\n          }\n        });\n        getNotes(token);\n      }\n    } catch (error) {\n      window.location.href = \"/\";\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"note-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, notes.map(note => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    key: note._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    title: note.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 25\n    }\n  }, note.title), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 29\n    }\n  }, note.content)), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 25\n    }\n  }, format(note.date)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 25\n    }\n  }, note.name, /*#__PURE__*/React.createElement(Link, {\n    to: `edit/${note._id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 29\n    }\n  }, \"Edit\")), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"close\",\n    onClick: () => deleteNote(note._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 25\n    }\n  }, \"X\"))));\n}","map":{"version":3,"sources":["C:/Users/Sahithi/TASKS-GUVI/NOTES-APP/client/src/components/notes/Home.js"],"names":["React","useState","useEffect","Link","format","axios","Home","notes","setNotes","token","setToken","getNotes","res","get","headers","Authorization","data","localStorage","getItem","deleteNote","id","delete","error","window","location","href","map","note","_id","title","content","date","name"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,SAAQC,IAAR,QAAmB,kBAAnB;AACA,SAAQC,MAAR,QAAqB,YAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe,SAASC,IAAT,GAAgB;AAC3B,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBP,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACQ,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,EAAD,CAAlC;;AAEA,QAAMU,QAAQ,GAAG,MAAOF,KAAP,IAAgB;AAC7B,UAAMG,GAAG,GAAG,MAAMP,KAAK,CAACQ,GAAN,CAAU,WAAV,EAAuB;AACrCC,MAAAA,OAAO,EAAC;AAACC,QAAAA,aAAa,EAAEN;AAAhB;AAD6B,KAAvB,CAAlB;AAGAD,IAAAA,QAAQ,CAACI,GAAG,CAACI,IAAL,CAAR;AACH,GALD;;AAOAd,EAAAA,SAAS,CAAC,MAAK;AACX,UAAMO,KAAK,GAAGQ,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAd;AACAR,IAAAA,QAAQ,CAACD,KAAD,CAAR;;AACA,QAAGA,KAAH,EAAS;AACLE,MAAAA,QAAQ,CAACF,KAAD,CAAR;AACH;AACJ,GANQ,EAMN,EANM,CAAT;;AAQA,QAAMU,UAAU,GAAG,MAAOC,EAAP,IAAa;AAC5B,QAAI;AACA,UAAGX,KAAH,EAAS;AACL,cAAMJ,KAAK,CAACgB,MAAN,CAAc,aAAYD,EAAG,EAA7B,EAAgC;AAClCN,UAAAA,OAAO,EAAE;AAACC,YAAAA,aAAa,EAAEN;AAAhB;AADyB,SAAhC,CAAN;AAGAE,QAAAA,QAAQ,CAACF,KAAD,CAAR;AACH;AACJ,KAPD,CAOE,OAAOa,KAAP,EAAc;AACZC,MAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,GAAvB;AACH;AACJ,GAXD;;AAaA,sBACI;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEQlB,KAAK,CAACmB,GAAN,CAAUC,IAAI,iBACV;AAAK,IAAA,SAAS,EAAC,MAAf;AAAsB,IAAA,GAAG,EAAEA,IAAI,CAACC,GAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,KAAK,EAAED,IAAI,CAACE,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAwBF,IAAI,CAACE,KAA7B,CADJ,eAEI;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIF,IAAI,CAACG,OAAT,CADJ,CAFJ,eAKI;AAAG,IAAA,SAAS,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAqB1B,MAAM,CAACuB,IAAI,CAACI,IAAN,CAA3B,CALJ,eAMI;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKJ,IAAI,CAACK,IADV,eAEI,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAG,QAAOL,IAAI,CAACC,GAAI,EAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ,CANJ,eAUI;AAAQ,IAAA,SAAS,EAAC,OAAlB;AACA,IAAA,OAAO,EAAE,MAAMT,UAAU,CAACQ,IAAI,CAACC,GAAN,CADzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAVJ,CADJ,CAFR,CADJ;AAsBH","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport {Link} from 'react-router-dom'\nimport {format} from 'timeago.js'\nimport axios from 'axios'\n\nexport default function Home() {\n    const [notes, setNotes] = useState([])\n    const [token, setToken] = useState('')\n\n    const getNotes = async (token) =>{\n        const res = await axios.get('api/notes', {\n            headers:{Authorization: token}\n        })\n        setNotes(res.data)\n    }\n\n    useEffect(() =>{\n        const token = localStorage.getItem('tokenStore')\n        setToken(token)\n        if(token){\n            getNotes(token)\n        }\n    }, [])\n\n    const deleteNote = async (id) =>{\n        try {\n            if(token){\n                await axios.delete(`api/notes/${id}`, {\n                    headers: {Authorization: token}\n                })\n                getNotes(token)\n            }\n        } catch (error) {\n            window.location.href = \"/\";\n        }\n    }\n\n    return (\n        <div className=\"note-wrapper\">\n            {\n                notes.map(note =>(\n                    <div className=\"card\" key={note._id}>\n                        <h4 title={note.title}>{note.title}</h4>\n                        <div className=\"text-wrapper\">\n                            <p>{note.content}</p>\n                        </div>\n                        <p className=\"date\">{format(note.date)}</p>\n                        <div className=\"card-footer\">\n                            {note.name}\n                            <Link to={`edit/${note._id}`} >Edit</Link>\n                        </div>\n                        <button className=\"close\" \n                        onClick={() => deleteNote(note._id)} >X</button>\n                    </div>\n                ))\n            }\n            \n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}